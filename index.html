<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–Ω–∞–∂—ë—Ä</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin-top: 50px;
      background: #f5f5f5;
    }
    h1 {
      color: #333;
    }
    .task {
      font-size: 32px;
      margin: 20px 0;
    }
    input {
      font-size: 24px;
      padding: 5px;
      width: 100px;
      text-align: center;
    }
    button {
      font-size: 20px;
      margin: 10px;
      padding: 10px 20px;
      cursor: pointer;
      border-radius: 10px;
      border: none;
      background: #4CAF50;
      color: white;
    }
    button:hover {
      background: #45a049;
    }
    .result {
      font-size: 24px;
      margin-top: 20px;
    }
    .score {
      font-size: 22px;
      margin-top: 15px;
      color: #333;
    }
    .timer {
      font-size: 24px;
      margin-top: 20px;
      color: darkblue;
    }
  </style>
</head>
<body>

  <h1>–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–Ω–∞–∂—ë—Ä</h1>
  <div class="task" id="task">–ó–∞–¥–∞—á–∞ –ø–æ—è–≤–∏—Ç—Å—è —Ç—É—Ç</div>

  <input type="number" id="answer" placeholder="–û—Ç–≤–µ—Ç">
  <br>
  <button onclick="checkAnswer()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
  <button onclick="newTask()">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</button>
  <button onclick="startGame()">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>

  <div class="result" id="result"></div>
  <div class="score" id="score">–û—á–∫–∏: 0 | –û—à–∏–±–∫–∏: 0</div>
  <div class="timer" id="timer">‚è± –í—Ä–µ–º—è: 60</div>

  <script>
    let correctAnswer;
    let points = 0;
    let errors = 0;
    let timeLeft = 60;
    let timerId;

    function newTask() {
      let a = Math.floor(Math.random() * 20) + 1;
      let b = Math.floor(Math.random() * 20) + 1;
      let sign = Math.random() > 0.5 ? '+' : '-';

      if (sign === '-' && b > a) [a, b] = [b, a];

      correctAnswer = sign === '+' ? a + b : a - b;

      document.getElementById("task").textContent = `${a} ${sign} ${b} = ?`;
      document.getElementById("answer").value = "";
      document.getElementById("result").textContent = "";
    }

    function checkAnswer() {
      let userAnswer = parseInt(document.getElementById("answer").value);

      if (isNaN(userAnswer)) return;

      if (userAnswer === correctAnswer) {
        points++;
        document.getElementById("result").textContent = "‚úÖ –ú–æ–ª–æ–¥–µ—Ü! –ü—Ä–∞–≤–∏–ª—å–Ω–æ!";
        document.getElementById("result").style.color = "green";
      } else {
        errors++;
        document.getElementById("result").textContent = `‚ùå –û—à–∏–±–∫–∞! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${correctAnswer}`;
        document.getElementById("result").style.color = "red";
      }

      updateScore();
      newTask();
    }

    function updateScore() {
      document.getElementById("score").textContent = `–û—á–∫–∏: ${points} | –û—à–∏–±–∫–∏: ${errors}`;
    }

    function startTimer() {
      clearInterval(timerId);
      timeLeft = 60;
      document.getElementById("timer").textContent = `‚è± –í—Ä–µ–º—è: ${timeLeft}`;
      timerId = setInterval(() => {
        timeLeft--;
        document.getElementById("timer").textContent = `‚è± –í—Ä–µ–º—è: ${timeLeft}`;
        if (timeLeft <= 0) {
          clearInterval(timerId);
          endGame();
        }
      }, 1000);
    }

    function startGame() {
      points = 0;
      errors = 0;
      updateScore();
      newTask();
      startTimer();
    }

    function endGame() {
      document.getElementById("task").textContent = "‚è∞ –í—Ä–µ–º—è –≤—ã—à–ª–æ!";
      document.getElementById("result").textContent = `üèÜ –ò—Ç–æ–≥: –û—á–∫–∏ ${points}, –û—à–∏–±–∫–∏ ${errors}`;
    }

    // –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ä–∞–∑—É —Å—Ç–∞–≤–∏–º –∑–∞–¥–∞—á—É
    newTask();
  </script>

</body>
</html>
